<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			*{
				margin: 0;
				padding: 0;
			}
			#box{
				position: absolute;
				left: 20px;
				top: 20px;
				width: 100px;
				height: 100px;
				background: pink;
			}
		</style>
	</head>
	<body>
			张晓飞同学:
			<div id="box">
				
			</div>
	</body>
	<script>
		var oBox = document.getElementById("box");
		var startPoint={x:0,y:0};
		var elementPoint={x:0,y:0};
		
		oBox.onmousedown=function(ev){
			var ev = ev||event;
			startPoint.x=ev.clientX;//到页面可视区域的距离
			startPoint.y=ev.clientY;
			
			elementPoint.x=oBox.offsetLeft;
			elementPoint.y=oBox.offsetTop;
			
			if(oBox.setCapture){
				oBox.setCapture();
			}
			
			document.onmousemove=function(ev){
				var ev = ev||event;
				var nowPoint={x:0,y:0};
				nowPoint.x=ev.clientX;
				nowPoint.y=ev.clientY;
				
				oBox.style.left=elementPoint.x+(nowPoint.x - startPoint.x)+"px";
				oBox.style.top=elementPoint.y+(nowPoint.y - startPoint.y)+"px";
			}
			
			document.onmouseup=function(){
				document.onmousemove = document.onmouseup = null;
				if(document.releaseCapture){
					document.releaseCapture();
				}
			}
			
			return false;
		}
		
		
	</script>
</html>
