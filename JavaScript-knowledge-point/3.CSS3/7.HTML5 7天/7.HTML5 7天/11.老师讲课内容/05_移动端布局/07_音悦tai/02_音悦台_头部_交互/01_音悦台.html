<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,user-scalable=no" />
		<title></title>
		<link href="css/index.css" rel="stylesheet"/>
		<script type="text/javascript">
			setRem();
			window.addEventListener("onorientationchange" in window ? "orientationchange" : "resize", function() {
		        setRem();
	    	}, false); 
			
			function setRem() {
				var html = document.querySelector("html");
				var width = html.getBoundingClientRect().width;
				html.style.fontSize = width / 16 + "px";
			}
		</script>
	</head>
	<body>
		<section id="wrap">
			<!--音悦台头部-->
			<header id="header">
				<!--logo 按钮区-->
				<div class="headerT">
					<!--logo-->
					<h1 id="logo">
						<a href="#">
							<img src="img/logo.png" />
						</a>
					</h1>
					<!--菜单按钮-->
					<a href="#" id="menuBtn" class="menuBtnClos"></a>
					<!--按钮排-->
					<div id="btns">
						<a href="#" class="searchBtn">搜索</a>
						<a href="#">登陆</a>
						<a href="#">注册</a>
					</div>
				</div>
				
				<!--搜索区-->
				<form class="search">
					<input type="text" placeholder="请输入搜索内容">
					<input type="submit" value="搜索">
				</form>
				
				<!--菜单列表-->
				<ul id="nav">
					<li>
			            <a href="javascript:void(0);">首页</a>
			        </li>
			        <li>
			            <a href="javascript:void(0);">MV</a>
			        </li>
			        <li>
			            <a href="javascript:void(0);">悦单</a>
			        </li>
			        <li>
			            <a href="javascript:void(0);">V榜</a>
			        </li>
				    <li><a href="javascript:void(0);">音悦stage</a></li>
			        <li>
			            <a href="javascript:void(0);">商城</a>
			        </li>
			        <li>
			            <a href="javascript:void(0);">节目</a>
			        </li>
			        <li>
			            <a href="javascript:void(0);">饭团</a>
			        </li>
			        <li>
			            <a href="javascript:void(0);">资讯</a>
			        </li>
			        <li>
			            <a href="javascript:void(0);">我的家</a>
			        </li>
			        <li>
			            <a href="javascript:void(0);">APP下载</a>
			        </li>
			        <li>
			            <a href="javascript:void(0);">热门应用</a>
			        </li>
				</ul>
			</header>
		</section>
	</body>
	<script type="text/javascript">
		document.addEventListener("touchstart",function(ev){
			ev.preventDefault();
		})
		
		others();
		function others(){
			var node = document.querySelector('.search input');
			node.addEventListener("touchstart",function(){
				this.focus();
			})
		}
		
		
		CMFCMenuBar(); 
	
		//菜单切换
		function CMFCMenuBar() {
			var btn =document.querySelector("#menuBtn");
			var nav =document.querySelector("#nav");
			
			btn.addEventListener(
//				"touchend", 不可以是touchend,如果是touchend的话显示隐藏的切换会有问题
//				因为在触发btn的touchend之前,document的touchstart已经被触发了
				"touchstart",
				function(e){
					if(this.className=="menuBtnClos"){
						this.className = "menuBtnShow";
						nav.style.display = "block";
					}else {
						this.className = "menuBtnClos";
						nav.style.display = "none";
					}
					e.stopPropagation();
				}
			);
			
//			防止事件点透,提高用户体验
			nav.addEventListener("touchstart", function(e) {
				e.stopPropagation();
			});
			
			
			document.addEventListener(
//				为什么选用touchstart,为了提高用户在滑屏时的体验
				"touchstart",
				function(){
					if(btn.className == "menuBtnShow"){
						btn.className = "menuBtnClos";
						nav.style.display = "none";
					}
				}
			);
			
			
		}
			
	</script>
</html>
