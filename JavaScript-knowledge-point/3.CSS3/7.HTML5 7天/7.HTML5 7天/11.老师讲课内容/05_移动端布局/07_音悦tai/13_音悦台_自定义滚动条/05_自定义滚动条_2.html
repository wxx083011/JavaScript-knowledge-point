<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,user-scalable=no" />
		<title>12_音悦tai</title>
		<style type="text/css">
			 *{
			 	margin: 0;
			 	padding: 0;
			 }
			 
			 html,body{
			 	height: 100%;
			 	overflow: hidden;
			 }
			 
			 #wrap{
			 	position: relative;
			 	height: 100%;
			 	overflow: hidden;
			 }
			 #scrollBar {
				position: absolute;
				top: 0;
				right: 0;
				width: 4px;
				height: 100%;
				background: rgba(0,0,0,.5);
				opacity: 0;
				transition: .3s opacity;
			}
		</style>
		<script src="js/transform.js"></script>
		<script>
			document.addEventListener(
				"touchstart",
				function(e) {
					e.preventDefault();
				}
			);
		
			window.onload=function(){
				setTeYt();
				
				var wrap = document.querySelector("#wrap");
				var bar = document.querySelector('#scrollBar');
				var scroll = document.querySelector("#scroll");
				var scale = wrap.clientHeight/scroll.offsetHeight;
				bar.style.height = wrap.clientHeight*scale + "px";
				
				var callBack ={};
				callBack.start = function() {
					bar.style.opacity = 1;
				};
				callBack.in = function() {
					var top =-css(scroll,"translateY")*scale;
					css(bar,"translateY",top);
				};
				callBack.over = function() {
					bar.style.opacity = 0;
				};
				
				scrollY(wrap,0,callBack);
			}
			
			function setTeYt(){
				var scroll = document.querySelector("#scroll");
				var teYt ="";
				for(var i=0;i<400;i++){
					teYt+="nmYnmYnmYnmYnmYnmY-------"+i+"<br/>";
				}
				scroll.innerHTML = teYt;
			}
			
			
			
			
		</script>
	</head>
	<body>
		<div id="wrap">
			<div id="scroll"></div>
			<div id="scrollBar"></div>
		</div>
	</body>
</html>
